function [y1] = myNeuralNetworkFunction(x1)
%MYNEURALNETWORKFUNCTION neural network simulation function.
%
% Auto-generated by MATLAB, 29-Oct-2022 14:49:19.
% 
% [y1] = myNeuralNetworkFunction(x1) takes these arguments:
%   x = 1xQ matrix, input #1
% and returns:
%   y = 1xQ matrix, output #1
% where Q is the number of samples.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = -40;
x1_step1.gain = 0.0333333333333333;
x1_step1.ymin = -1;

% Layer 1
b1 = [-14.045319848829601383;-10.834835360492707679;-7.377612917848298757;-3.9091136329608082711;-0.85957297192350901049;-1.7625269006322255017;4.7497449978414900684;7.5696350495579549644;10.008548973208332811;-13.121516847513314374];
IW1_1 = [13.952040871335752215;14.0367153036731942;14.161372111280179809;14.041827508371380162;13.692109237926500143;-13.355518729345064344;13.334305453843951383;13.57211229371463368;14.278527818822860596;-14.664666032019455955];

% Layer 2
b2 = [-1.7234185340405152598;-1.3604625181840948045;0.95437455125129622147;0.69190075134148143476;-0.14394751161855182109;0.075891380403015615275;-0.68163455894698221638;0.89979642649999713733;1.330730863404912645;-1.8269130923953558199];
LW2_1 = [0.20079678307590898001 0.8493562680635607931 -0.68208501330106652283 0.65051624016497733294 0.35906778096433178415 0.54028371177971512562 -1.2145592883799132267 0.97073289542419372022 -0.24352670695767281162 -0.13952076430785465;0.4852946238749396568 0.21131371998820100422 0.095737084906598712841 -0.041319871006682697134 -0.20833647176400468815 0.37399673541102335106 0.6790833465018439874 -0.91606113693791346719 -1.2710243285272735392 0.31899969225870866696;-0.98192273056744439064 0.50726544048024779787 -0.71398384040229112557 -0.65914644136054834078 -0.17848470446800071554 0.16006789597403522918 -0.46862603559085075355 0.19183028375799690557 0.82967115337692842747 0.075611002529364410019;-0.3957732162076567084 -0.35642146980079059126 -0.56457237650853031585 -0.49924337527096729339 -0.20161226767179193931 -0.89841741606781078122 -0.53184157981476209986 -0.12953641717942920852 -0.098552842242124821803 -1.1242232485050538404;0.30227637822717290383 -0.057866213544185828022 0.72603116968196412806 0.85812515152571344768 0.15152380893774944348 0.16263138144932201556 -0.19774910728359848533 0.32482442116802900944 0.59636417247196271685 0.91278854615963445074;0.99375773478718532061 0.35984282999576050477 0.057357514044510879425 0.62148154334013472333 0.74051184947546666582 -1.3593294424724764458 -0.18381163785113807663 -0.16230934701357485617 0.85368456069203546566 -0.47636674720509925018;-0.51846562782740879261 0.0017744827382776358262 -0.66299914705124118885 0.22184604205884519978 -1.1029672677433486339 -1.4877325680907429462 0.065693494350049050357 0.42215643559709320476 0.66603175726913699251 0.95788299905137019863;0.8067951800195041212 -0.68041808680505222462 0.55202292052127444055 1.0314725970737246286 0.60611443216520055621 -0.2847800005790716571 0.47028217769342056664 -0.1304075090945818749 0.10309161476554618009 -0.9135023693414083823;0.68409609419372685579 0.22130763186173071921 0.44494891603226133237 -0.33142295049269315799 -0.01614622548376714456 0.17096539829079593353 -1.3421301509187002488 0.93287729286982168375 -0.55677957699065494523 -0.94341231404819247963;-0.60243644656830985795 -0.29927433897562638609 -0.26846175154696028109 -0.37965549558418087983 0.54850859348296832074 -0.45523472449782714788 -0.2910418228693367193 -1.0791807388909799847 0.76523150383559690457 -1.059013442266284466];

% Layer 3
b3 = [1.5602711971784655187;-1.3932728263593299189;0.99162587869064389157;-0.7893670020981772284;-0.36269907597848055625;-0.090640603986813103599;0.60533085287097232463;-1.1175017826748074867;-1.5290866781362557614;-1.768078803532187715];
LW3_2 = [-0.86276641239856832755 -0.6448044714705140068 0.065847545409354849011 -0.93282509696438298263 0.30820098744473828356 0.45417599948422149314 -0.61151467254423175213 -0.54325581642967379903 -0.34818626189781454183 -0.48824986069896780805;0.45490256912222304386 0.82277156044015165026 -0.56856642954214742236 -0.67418989202804779914 -0.39287534426621539829 0.53118086192473834561 0.1071301884493955775 0.89980638842202775862 -0.14765270093864765744 -0.39111214387374970691;-0.75043228199757416874 -0.30124157701542692012 0.51112407560902639592 0.38795306869831125418 0.2490248517384849869 0.78995601401605519687 0.55774427966248363298 -0.22829970545092867495 -0.98444353023143704728 -0.053067155404362256754;0.82150741527334147918 0.54539835876548026228 0.5030330282450704571 0.0036985080495988992971 -0.69197035266159612199 0.58970239433469107126 0.16468835749182419992 -0.22751186817807203533 -0.83795333415166484148 0.13835214112528362862;1.0323945493089141667 -0.16725819699810395846 -0.13928203688664672621 0.26773591952104947023 0.090503318858453279949 1.1787148507267126707 1.1236507488212437167 -0.69527626116218643748 -0.052055861748624233931 -0.72296725573974940371;-0.14919361846830253571 0.59451450223180002386 0.79061357304734480866 0.30796738967423592515 -0.21574077599885713163 0.48600388026772667338 0.041505187847229438325 -0.70361814913339237876 0.86198988200130755022 0.79979002077267358217;0.19824142401173819317 0.76518665213849668127 -0.1882871089854504798 -0.87678015779974338706 0.019631878436581123859 -0.24055473849478167803 -0.53441852144617596476 0.88104265994461705702 0.76137486210434379696 0.43403606121935695006;-0.53788811450255014091 0.42485635420317319211 0.19642017917175147446 0.55153342326277698948 -0.18902218746311033604 -0.05161237281134369026 0.38501386423345163035 1.2600184586182650026 -1.3783997587917102834 0.19543224542154910561;-0.63089083772336262967 -0.8260467427390769668 -0.38058388221163391707 0.22516398099475862238 -0.84446281554156699123 -0.046898503883849550211 -0.56327451005362083603 0.34047037614898978397 0.83178541320234877787 -0.79210145378799579063;-0.11243928611011289043 -0.22533604426974468415 0.23193848593435634209 0.10580070619860394709 0.64355210975615362301 -0.24481926199046968873 -1.7774523770627210784 -0.83880031667068011281 0.043707604633024844942 -0.56771661698539743757];

% Layer 4
b4 = 0.1972894776391399263;
LW4_3 = [-0.8948496020691616426 -0.11732051093659938423 -0.17487727953623788402 -0.12219625544602075173 -0.71892323831689064484 0.16083137184931112218 -0.43505090313631877841 -0.96982249034178258373 -1.179910102714739395 0.58236267629359195208];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = 4.23066136842531;
y1_step1.xoffset = 8.43536485831131e-05;

% ===== SIMULATION ========

% Dimensions
Q = size(x1,2); % samples

% Input 1
xp1 = mapminmax_apply(x1,x1_step1);

% Layer 1
a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*xp1);

% Layer 2
a2 = tansig_apply(repmat(b2,1,Q) + LW2_1*a1);

% Layer 3
a3 = tansig_apply(repmat(b3,1,Q) + LW3_2*a2);

% Layer 4
a4 = repmat(b4,1,Q) + LW4_3*a3;

% Output 1
y1 = mapminmax_reverse(a4,y1_step1);
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
